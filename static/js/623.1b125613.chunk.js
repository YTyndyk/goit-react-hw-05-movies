"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[623],{49:function(e,t,n){n.d(t,{e:function(){return s}});var r,a=n(689),u=n(87),o=n(168),c=n(444).ZP.li(r||(r=(0,o.Z)(["\n  padding-bottom: 5px;\n"]))),i=n(184),s=function(e){var t=e.movies,n=(0,a.TH)();return(0,i.jsx)("ul",{children:t.map((function(e){var t=e.title,r=e.id,a=e.name;return(0,i.jsx)(c,{children:(0,i.jsx)(u.Link,{to:"/movies/".concat(r),state:{from:n},children:t||a})},r)}))})}},920:function(e,t,n){n.d(t,{Hg:function(){return c},Pg:function(){return s},q:function(){return i},tx:function(){return v},zv:function(){return p}});var r=n(861),a=n(757),u=n.n(a),o=n(243);o.Z.defaults.baseURL="https://api.themoviedb.org/3",o.Z.defaults.params={api_key:"80849c20aa63241eb028c4e7b7d0f3a8",include_adult:!1};var c=function(){var e=(0,r.Z)(u().mark((function e(){var t,n,r,a,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,n=c.length>1?c[1]:void 0,e.prev=2,e.next=5,o.Z.get("/trending/movie/day",{params:{page:t,language:n}});case 5:return r=e.sent,a=r.data,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(2),new Error("Oops, there is no movies");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)(u().mark((function e(){var t,n,r,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.prev=1,e.next=4,o.Z.get("/search/movie?page=1&query=".concat(t,"&language=en"));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),new Error("Oops, there is no movie");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/movie/".concat(t,"?language=en"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, there is no movie");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/movie/".concat(t,"/credits?language=en"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, there is no movie");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/movie/".concat(t,"/reviews?language=en"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, there is no movie");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},623:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r,a=n(433),u=n(439),o=n(791),c=n(920),i=n(168),s=n(444).ZP.input(r||(r=(0,i.Z)(["\n  height: 25px;\n  font-size: 20px;\n  margin-right: 10px;\n"]))),p=n(184),v=function(e){var t=e.onSubmit;return(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.elements.query;n.value?(t(n.value),e.target.reset()):alert("Plese, fill the input!")},children:[(0,p.jsx)(s,{type:"text",name:"query"}),(0,p.jsx)("button",{style:{height:31,fontSize:20},type:"submit",children:"Search movie"})]})},f=n(87),l=n(49),h="idle",d="panding",m="rejected",g="resolved",x=function(){var e=(0,o.useState)([]),t=(0,u.Z)(e,2),n=t[0],r=t[1],i=(0,o.useState)(h),s=(0,u.Z)(i,2),x=s[0],w=s[1],Z=(0,f.useSearchParams)(),b=(0,u.Z)(Z,2),y=b[0],k=b[1];(0,o.useEffect)((function(){var e=y.get("query");e&&(w(d),(0,c.q)(e).then((function(e){r((0,a.Z)(e.results)),w(g)})).catch((function(e){console.error(e),w(m)})))}),[y]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v,{onSubmit:function(e){k({query:e})}}),x===d&&(0,p.jsx)("p",{children:"Loading..."}),x===g&&(0,p.jsx)(l.e,{movies:n}),x===m&&(0,p.jsx)("b",{children:"Sorry, we don't have detailed information about this movie !!!"})]})}}}]);
//# sourceMappingURL=623.1b125613.chunk.js.map
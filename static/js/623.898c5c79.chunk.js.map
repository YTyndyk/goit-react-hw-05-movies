{"version":3,"file":"static/js/623.898c5c79.chunk.js","mappings":"qMACaA,E,OAAOC,GAAAA,GAAH,gD,SCCJC,EAAY,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACpBC,GAAWC,EAAAA,EAAAA,MACjB,OACE,wBACGF,EAAOG,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAIC,EAAd,EAAcA,KAAd,OACV,SAACT,EAAD,WACE,SAAC,EAAAU,KAAD,CAAMC,GAAE,kBAAaH,GAAMI,MAAO,CAAEC,KAAMT,GAA1C,SACGG,GAASE,KAFHD,EADD,KASjB,C,8LCbDM,EAAAA,EAAAA,SAAAA,QAAA,+BACAA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAAQ,mCACRC,eAAe,GAGV,IAAMC,EAAW,mCAAG,6GAAOC,EAAP,+BAAc,EAAGC,EAAjB,yCAEAL,EAAAA,EAAAA,IAAU,sBAAuB,CACtDM,OAAQ,CACNF,KAAAA,EACAG,SAAUF,KALS,uBAEfG,EAFe,EAEfA,KAFe,kBAQhBA,GARgB,wCAUjB,IAAIC,MAAM,4BAVO,0DAAH,qDAaXC,EAAc,mCAAG,2GAAOC,EAAP,+BAAe,GAAf,kBAEHX,EAAAA,EAAAA,IAAA,qCACSW,EADT,iBAFG,uBAElBH,EAFkB,EAElBA,KAFkB,kBAKnBA,GALmB,sCAOpB,IAAIC,MAAM,2BAPU,yDAAH,qDAUdG,EAAY,mCAAG,WAAMlB,GAAN,kGAEDM,EAAAA,EAAAA,IAAA,iBAAoBN,EAApB,iBAFC,uBAEhBc,EAFgB,EAEhBA,KAFgB,kBAGjBA,GAHiB,sCAKlB,IAAIC,MAAM,2BALQ,yDAAH,sDAQZI,EAAe,mCAAG,WAAMnB,GAAN,kGAEJM,EAAAA,EAAAA,IAAA,iBAAoBN,EAApB,yBAFI,uBAEnBc,EAFmB,EAEnBA,KAFmB,kBAGpBA,GAHoB,sCAKrB,IAAIC,MAAM,2BALW,yDAAH,sDAQfK,EAAe,mCAAG,WAAMpB,GAAN,kGAEJM,EAAAA,EAAAA,IAAA,iBAAoBN,EAApB,yBAFI,uBAEnBc,EAFmB,EAEnBA,KAFmB,kBAGpBA,GAHoB,sCAKrB,IAAIC,MAAM,2BALW,yDAAH,qD,sHC9CfM,E,OAAQ5B,GAAAA,MAAH,oF,iBCEL6B,EAAa,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC3B,GAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOvB,EAAP,KAAawB,EAAb,KACA,GAAwCC,EAAAA,EAAAA,iBAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACAC,QAAQC,IAAIH,EAAaI,IAAI,UAmB7B,OACE,kBAAMR,SAfa,SAAAS,GACnBA,EAAEC,iBACFL,EAAgB,CAAEX,MAAOhB,IAEzBwB,EAAQ,IACHxB,GAKLsB,EAAStB,GACT+B,EAAEE,OAAOC,SALPC,MAAM,yBAMT,EAGC,WACE,SAACf,EAAD,CAAOgB,KAAK,OAAOpC,KAAK,QAAQqC,MAAOrC,EAAMsC,SApB5B,SAAAP,GACnBP,EAAQO,EAAEQ,cAAcF,MACzB,KAmBG,mBAAQG,MAAO,CAAEC,OAAQ,GAAIC,SAAU,IAAMN,KAAK,SAAlD,SAA2D,mBAKhE,E,iBC3BKO,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAwCZ,EAtCe,WACb,OAA4BpB,EAAAA,EAAAA,UAAS,IAArC,eAAO7B,EAAP,KAAekD,EAAf,KACA,GAA4BrB,EAAAA,EAAAA,UAASoB,GAArC,eAAOE,EAAP,KAAeC,EAAf,KACA,GAAwCrB,EAAAA,EAAAA,mBAAxC,eAAOC,EAAP,KAAqBC,EAArB,MAEAoB,EAAAA,EAAAA,YAAU,WACR,IAAM/B,EAAQU,EAAaI,IAAI,SAC1Bd,IAEL8B,EAAUH,IACV5B,EAAAA,EAAAA,GAAeC,GACZgC,MAAK,SAAAtD,GACJkD,GAAU,OAAIlD,EAAOuD,UACrBH,EAAUH,EACX,IACAO,OAAM,SAAAC,GACLvB,QAAQuB,MAAMA,GACdL,EAAUH,EACX,IACJ,GAAE,CAACjB,IAMJ,OACE,iCACE,SAACL,EAAD,CAAYC,SANC,SAAAN,GACfW,EAAgB,CAAEX,MAAAA,GACnB,IAKI6B,IAAWF,IAAkB,uBAAG,eAChCE,IAAWF,IAAmB,SAAClD,EAAA,EAAD,CAAWC,OAAQA,IACjDmD,IAAWF,GAAqC,IAAlBjD,EAAO0D,SACpC,uBAAG,uEAEJP,IAAWF,IAAmB,SAACU,EAAA,EAAD,MAGpC,C","sources":["components/MovieList/MovieList.styled.js","components/MovieList/MovieList.js","components/Services/themoviedbAPI.js/ThemoviedbAPI.js","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.js","pages/Movies.js"],"sourcesContent":["import styled from 'styled-components';\nexport const Item = styled.li`\n  padding-bottom: 5px;\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport { Item } from './MovieList.styled';\nexport const MovieList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul>\n      {movies.map(({ title, id, name }) => (\n        <Item key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            {title || name}\n          </Link>\n        </Item>\n      ))}\n    </ul>\n  );\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = `https://api.themoviedb.org/3`;\naxios.defaults.params = {\n  api_key: `80849c20aa63241eb028c4e7b7d0f3a8`,\n  include_adult: false,\n};\n\nexport const getTrending = async (page = 1, lng) => {\n  try {\n    const { data } = await axios.get('/trending/movie/day', {\n      params: {\n        page,\n        language: lng,\n      },\n    });\n    return data;\n  } catch (error) {\n    throw new Error('Oops, there is no movies');\n  }\n};\nexport const getMovieSearch = async (query = '') => {\n  try {\n    const { data } = await axios.get(\n      `/search/movie?page=1&query=${query}&language=en`\n    );\n    return data;\n  } catch (error) {\n    throw new Error('Oops, there is no movie');\n  }\n};\nexport const getMovieById = async id => {\n  try {\n    const { data } = await axios.get(`/movie/${id}?language=en`);\n    return data;\n  } catch (error) {\n    throw new Error('Oops, there is no movie');\n  }\n};\nexport const getMovieCredits = async id => {\n  try {\n    const { data } = await axios.get(`/movie/${id}/credits?language=en`);\n    return data;\n  } catch (error) {\n    throw new Error('Oops, there is no movie');\n  }\n};\nexport const getMovieReviews = async id => {\n  try {\n    const { data } = await axios.get(`/movie/${id}/reviews?language=en`);\n    return data;\n  } catch (error) {\n    throw new Error('Oops, there is no movie');\n  }\n};\n","import styled from 'styled-components';\nexport const Input = styled.input`\n  height: 25px;\n  font-size: 20px;\n  margin-right: 10px;\n`;\n","import { useState } from 'react';\nimport { Input } from './SearchForm.styled';\nimport { useSearchParams } from 'react-router-dom';\nexport const SearchForm = ({ onSubmit }) => {\n  const [name, setName] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams('');\n  console.log(searchParams.get('query'));\n  const handleChange = e => {\n    setName(e.currentTarget.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: name });\n\n    setName('');\n    if (!name) {\n      alert('Plese, fill the input!');\n      return;\n    }\n\n    onSubmit(name);\n    e.target.reset();\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Input type=\"text\" name=\"query\" value={name} onChange={handleChange} />\n      <button style={{ height: 31, fontSize: 20 }} type=\"submit\">\n        Search movie\n      </button>\n    </form>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { getMovieSearch } from '../components/Services/themoviedbAPI.js/ThemoviedbAPI';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { useSearchParams } from 'react-router-dom';\nimport { MovieList } from 'components/MovieList/MovieList';\nimport { PageNotFound } from './PageNotFound/PageNotFound';\nconst STATUS = {\n  IDLE: 'idle',\n  PENDING: 'panding',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    const query = searchParams.get('query');\n    if (!query) return;\n\n    setStatus(STATUS.PENDING);\n    getMovieSearch(query)\n      .then(movies => {\n        setMovies([...movies.results]);\n        setStatus(STATUS.RESOLVED);\n      })\n      .catch(error => {\n        console.error(error);\n        setStatus(STATUS.REJECTED);\n      });\n  }, [searchParams]);\n\n  const onSubmit = query => {\n    setSearchParams({ query });\n  };\n\n  return (\n    <>\n      <SearchForm onSubmit={onSubmit} />\n      {status === STATUS.PENDING && <p>Loading...</p>}\n      {status === STATUS.RESOLVED && <MovieList movies={movies} />}\n      {status === STATUS.RESOLVED && movies.length === 0 && (\n        <p>Oops! We couldnâ€™t find anything. Change your request, please!</p>\n      )}\n      {status === STATUS.REJECTED && <PageNotFound />}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["Item","styled","MovieList","movies","location","useLocation","map","title","id","name","Link","to","state","from","axios","api_key","include_adult","getTrending","page","lng","params","language","data","Error","getMovieSearch","query","getMovieById","getMovieCredits","getMovieReviews","Input","SearchForm","onSubmit","useState","setName","useSearchParams","searchParams","setSearchParams","console","log","get","e","preventDefault","target","reset","alert","type","value","onChange","currentTarget","style","height","fontSize","STATUS","setMovies","status","setStatus","useEffect","then","results","catch","error","length","PageNotFound"],"sourceRoot":""}